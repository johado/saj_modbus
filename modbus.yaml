#################################################################
## Modbus
#################################################################
# From https://community.home-assistant.io/t/saj-solar-inverter/111932
# Updated with regs from AS1Main control board doc.
# along with some findings with my SAJ H2 10K-T2
      ##########################################################
      ## SAJ converter
      ##########################################################
# 0x001D = 29 PV1Volt ?
# 0x3651 = 13905
# 0x4000 = 16384 - realtime
# 0xe468 = 58472
  - name: SAJ
    close_comm_on_error: true
    delay: 5
    type: tcp
    timeout: 5
    host: 192.168.0.32
    port: 502
    sensors:
# From AS1 doc - does not work on H2
#      # 0x3371, 1=Automatic Scheduling mode, 2=Time Of Use mode, 3 = Backup mode
#      - name: ACC_UserMode
#        slave: 0
#        address: 13169 
#        count: 1
#        scale: 1
#        precision: 0
#        data_type: uint16
#        scan_interval: 1
#      # 0x3600, 1=Automatic Scheduling mode, 2=Time Of Use mode, 3 = Backup mode
#      - name: GridChargeEnable
#        slave: 0
#        address: 13824 
#        count: 1
#        scale: 1
#        precision: 0
#        data_type: uint16
#        scan_interval: 1
#      - name: GridDischargeEnable
#        slave: 0
#        address: 13825
#        count: 1
#        scale: 1
#        precision: 0
#        data_type: uint16
#        scan_interval: 1

# -----------------------------

# 0x001D = 29 PV1Volt does not return anything
#      - name: PV1Volt
#        unit_of_measurement: "V"
#        slave: 0
#        address: 29
#        count: 1
#        scale: 1
#        precision: 1
#        data_type: uint16
#        device_class: voltage
#        scan_interval: 10
q
# Write only register:  0x8020 is actually 4 words according to 202221202 doc. 0xyyyyMMddHHmmss00
      - name: InverterDate2
        unit_of_measurement: "0xYYYYMMDD"
        slave: 0
        address: 0x8020
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        device_class: time
        scan_interval: 10
      - name: InverterTime2
        unit_of_measurement: "0xHHMMSSxx"
        slave: 0
        address: 0x8022
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        device_class: time
        scan_interval: 10
#      - name: InverterTime3
#        unit_of_measurement: "0xHHMMSSxx"
#        slave: 0
#        address: 0x801E
#        count: 2
#        scale: 1
#        precision: 0
#        data_type: uint32
#        device_class: time
#        scan_interval: 10

      - name: InverterDate
        unit_of_measurement: "0xYYYYMMDD"
        slave: 0
        address: 16384 
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        device_class: time
        scan_interval: 10
      - name: InverterTime
        unit_of_measurement: "0xHHMMSSxx"
        slave: 0
        address: 16386 
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        device_class: time
        scan_interval: 10
      - name: Inverter_working_mode
        slave: 0
        address: 16388 
        count: 1
        scale: 1
        precision: 0
        data_type: uint16
        scan_interval: 1
      - name: display_board_error_message
        slave: 0
        address: 16389 
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        scan_interval: 10
      - name: display_controller_error_message
        slave: 0
        address: 16391 
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        scan_interval: 10
      - name: display_controller_error_message2
        slave: 0
        address: 16393 
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        scan_interval: 10
      - name: error_message_controller
        slave: 0
        address: 16395 
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        scan_interval: 10
      - name: error_message_controller2
        slave: 0
        address: 16397 
        count: 2
        scale: 1
        precision: 0
        data_type: uint32
        scan_interval: 10 

# 0x4031 = 16433
#4031H 1 RGridVolt Uint16 -1 V R R phase voltage
#4032H 1 RGridCurr Int16 -2 A R R phase current
#4033H 1 RGridFreq Uint16 -2 Hz R R phase frequency
#4034H 1 RGridDCI Int16 0 mA R R phase DC component of grid
#4035H 1 RGridPowerWatt Int16 0 W R R phase grid active power
#4036H 1 RGridPowerVA Uint16 0 W R Rphase grid reactive power
#4037H 1 RGridPowerPF Int16 -3 R R phase grid power factor
#4046H 1 RInvVolt Uint16 -1 V R R phase Inversion voltage
#4047H 1 RInvCurr Int16 -2 A R R phase Inversioncurrent
#4048H 1 RInvFreq Uint16 -2 Hz R R inv frequency 
#4049H 1 RInvPowerWatt Int16 0 W R R inv active power 
#404AH 1 RInvPowerVA Uint16 0 VA R R inv reactive power 
#4055H 1 ROutVolt Uint16 -1 V R R export voltage 
#4056H 1 ROutCurr Uint16 -2 A R R export current 
#4057H 1 ROutFreq Uint16 -2 Hz R R export frequency 
#4058H 1 ROutDVI Int16 0 mV R RDC component of output voltage 
#4059H 1 ROutPowerWatt Uint16 0 W R R output active power 
#405AH 1 ROutPowerVA Uint16 0 VA R R output apparent power 
# as 4055-405A for phase2 and phase 3

#4067H 1 BusVoltMaster Uint16 -1 V R Mast BUS voltage 
#4068H 1 BusVoltSlave Uint16 -1 V R Slave BUS voltage 
#4069H 1 BatVolt Uint16 -1 V R Battery voltage 
#406AH 1 BatCurr Int16 -2 A R Battery current 
#406DH 1 BatPower Int16 0 W R Battery power 
#406EH 1 BatTempC Int16 -1 ℃ R Battery temperature 
#406FH 1 BatEnergyPercent Uint16 -2 % R Battery SOC 
#4095H 1 PV_direction Uint16 0 R PV direction of energy flow 
#4096H 1 Battery_direction int16 0 R battery energy flow direction 
#4097H 1 Grid_direction int16 0 R Grid energy flow direction 
#4098H 1 OutPut_direction Uint16 0 R Output to load energy flow direction 
#4099H 1 PVConsumpWatt Int16 0 W R Power flow from PV to load 
#409AH 1 GridConsumpWatt Int16 0 W R Power flowing from the grid to the load 
#409BH 1 GridFeedInPVWatt Int16 0 W R Power flow from PV to grid 
#409CH 1 GridFeedInBatWatt Int16 0 W R Power flow from battery to grid 
#409DH 1 BatConsumpWatt Int16 0 W R Power flow from battery to load 
#409EH 1 BatChgPVWatt Int16 0 W R PV charging power to battery 
#409FH 1 BatChgGridWatt Int16 0 W R Grid charging power to battery 
#40A0H 1 SysTotalLoadWatt Int16 0 W R Total system load power consumption

#40A1H 1 CT_GridPowerWatt int16 0 W R CT grid active power 
#40A2H 1 CT_GridPowerVA int16 0 VA R CT grid apparent power 
#40A3H 1 CT_PVPowerWatt int16 0 W R CT PV active power 
#40A4H 1 CT_PVPowerVA int16 0 VA R CT PV apparent power 
#40A5H 1 TotalPVPower Int16 0 W R PV total power 
#40A6H 1 TotalBatteryPower Int16 0 W R Total battery power 
#40A7H 1 TotalGridPowerWatt Int16 0 W R The total active power of the grid 
#40A8H 1 TotalGridPowerVA Int16 0 VA R The total apparent power of the grid 
#40A9H 1 TotalInvPowerWatt Int16 0 W R Inverter total active power 
#40AAH 1 TotalInvPowerVA Int16 0 VA R Inverter total apparent power 
#40ABH 1 BackupTotalLoadPowerWatt Uint16 0 W R Backup Total load active power 
#40ACH 1 BackupTotalLoadPowerVA Uint16 0 VA R Backup Total load apparent power 
#40ADH 1 BatChgPowerLimit Int16 0 W R PV Charging limit

      - name: Grid_phase_voltage
        unit_of_measurement: "V"
        slave: 0
        address: 16433 
        count: 1
        scale: 1
        precision: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      # Following 3 does not match Smart meter I
      - name: Grid_Phase_current
        unit_of_measurement: "A"
        slave: 0
        address: 16434 
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: current
        scan_interval: 1
      - name: Grid_Frequency
        unit_of_measurement: "Hz"
        slave: 0
        address: 16435 
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: frequency
        scan_interval: 1
      - name: GridDCI
        unit_of_measurement: "mA"
        slave: 0
        address: 16436 
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: current
        scan_interval: 1
      - name: GridPowerWatt
        unit_of_measurement: "W"
        slave: 0
        address: 16437
        count: 1
        precision: 0
        scale: 0
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: GridPowerVA
        unit_of_measurement: "W"
        slave: 0
        address: 16438
        count: 1
        precision: 0
        scale: 0
        data_type: int16
        device_class: current
        scan_interval: 1

      #0x4055
      - name: Grid1OutVolt
        unit_of_measurement: "V"
        slave: 0
        address: 16469 
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: Grid1OutCurrent
        unit_of_measurement: "A"
        slave: 0
        address: 16470 
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: Grid1OutFrequency
        unit_of_measurement: "Hz"
        slave: 0
        address: 16471
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: frequency
        scan_interval: 1
      # RDC  
      - name: Grid1OutDVI
        unit_of_measurement: "mV"
        slave: 0
        address: 16472
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1

      - name: Grid1OutPowerWatt
        unit_of_measurement: "W"
        slave: 0
        address: 16473
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1
      - name: Grid1OutPowerVA
        unit_of_measurement: "VA"
        slave: 0
        address: 16474
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1
      # 16475 0x405B- unknown, but appears to be as above but for the other phases
      - name: Grid2OutVolt
        unit_of_measurement: "V"
        slave: 0
        address: 16475
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: Grid2OutCurrent
        unit_of_measurement: "A"
        slave: 0
        address: 16476 
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: Grid2OutFrequency
        unit_of_measurement: "Hz"
        slave: 0
        address: 16477
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: frequency
        scan_interval: 1
      # RDC  
      - name: Grid2OutDVI
        unit_of_measurement: "mV"
        slave: 0
        address: 16478
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1

      - name: Grid2OutPowerWatt
        unit_of_measurement: "W"
        slave: 0
        address: 16479
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1
      - name: Grid2OutPowerVA
        unit_of_measurement: "VA"
        slave: 0
        address: 16480
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1

      - name: Grid3OutVolt
        unit_of_measurement: "V"
        slave: 0
        address: 16481
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: Grid3OutCurrent
        unit_of_measurement: "A"
        slave: 0
        address: 16482
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: Grid3OutFrequency
        unit_of_measurement: "Hz"
        slave: 0
        address: 16483
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: frequency
        scan_interval: 1
      # RDC  
      - name: Grid3OutDVI
        unit_of_measurement: "mV"
        slave: 0
        address: 16484
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1

      - name: Grid3OutPowerWatt
        unit_of_measurement: "W"
        slave: 0
        address: 16485
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1
      - name: Grid3OutPowerVA
        unit_of_measurement: "VA"
        slave: 0
        address: 16486
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1


      - name: Battery_voltage
        unit_of_measurement: "V"
        slave: 0
        address: 16489 
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: Battery_current
        unit_of_measurement: "A"
        slave: 0
        address: 16490 
        count: 1
        precision: 2
        scale: 1
        data_type: int16
        device_class: current
      - name: Battery_power
        unit_of_measurement: "W"
        slave: 0
        address: 16493 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: Battery_temperature
      # Was wrong address
      #"C°"
        unit_of_measurement: "C"
        slave: 0
        address: 16494 
        count: 1
        precision: 1
        scale: 1
        data_type: int16
        scan_interval: 1
        device_class: temperature
      - name: Battery_SOC
        unit_of_measurement: "%"
        slave: 0
        address: 16495 
        count: 1
        precision: 0
        scale: 0.01
        data_type: uint16
        device_class: battery
        scan_interval: 1

# Empiric study suggests this could be PV values
#      - name: PV1x
#        unit_of_measurement: "V"
#        slave: 0
#        address: 16496
#        count: 1
#        precision: 1
#        scale: 0
#        data_type: uint16
#        device_class: voltage
#        scan_interval: 1
      - name: PV1Volt
        unit_of_measurement: "V"
        slave: 0
        address: 16497
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: PV1Current
        unit_of_measurement: "A"
        slave: 0
        address: 16498
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: current
        scan_interval: 1
      - name: PV1Power
        unit_of_measurement: "W"
        slave: 0
        address: 16499
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1
      - name: PV2Volt
        unit_of_measurement: "V"
        slave: 0
        address: 16500
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: PV2Current
        unit_of_measurement: "A"
        slave: 0
        address: 16501
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: current
        scan_interval: 1
      - name: PV2Power
        unit_of_measurement: "W"
        slave: 0
        address: 16502
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1
# 16503 and on gives 0xFFFF and 0
# 16525: 2313 (Voltage?)
# 16528: 1184 (Watt?)
# 16529: 2299 (Voltage?)
# 16530:  401 (Watt?)
# 16531: 2304 (Voltage?)
# 16532: 1283 (Watt?)

      - name: PV_direction
        slave: 0
        address: 16533 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        scan_interval: 1
      - name: Battery_direction
        slave: 0
        address: 16534 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        scan_interval: 1
      - name: Grid_direction
        slave: 0
        address: 16535
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        scan_interval: 1
      - name: Inverter_direction
        slave: 0
        address: 16536
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        scan_interval: 1

      # 0x4099
      - name: PVconsumptiontohouseFIXME
        unit_of_measurement: "W"
        slave: 0
        address: 16537 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: GridconsumptionFIXME
        unit_of_measurement: "W"
        slave: 0
        address: 16538 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1

      - name: GridfeedinfromPV
        unit_of_measurement: "W"
        slave: 0
        address: 16539 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: Gridfeedinfrombattery
        unit_of_measurement: "W"
        slave: 0
        address: 16540 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: BatconsumptiontohouseFIXME
        unit_of_measurement: "W"
        slave: 0
        address: 16541 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: BatchargingfromPV
        unit_of_measurement: "W"
        slave: 0
        address: 16542 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: Batchargingfromgrid
        unit_of_measurement: "W"
        slave: 0
        address: 16543 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: Systemtotalloadpower
        unit_of_measurement: "W"
        slave: 0
        address: 16544 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
# This is what is bought from grid?
      - name: Gridtotalpower
        unit_of_measurement: "W"
        slave: 0
        address: 16545 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1

      - name: PVtotalpower
        unit_of_measurement: "W"
        slave: 0
        address: 16549 
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: Batterytotalpower
        unit_of_measurement: "W"
        slave: 0
        address: 16550
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1

      - name: InverterTotalGridpowerFIXME
      # 0x40A7 16551 This seems to be difference between Battery_power and Batterytotalpower, changed to 16551
      # 40A7H 1 TotalGridPowerWatt Int16 0 W R The total active power of the grid
      # SHould rather be named
        unit_of_measurement: "W"
        slave: 0
        address: 16551
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1

      # This seems to be Bat+PV power
      - name: Invertertotalpower
      # 40A9H 16553 1 TotalInvPowerWatt Int16 0 W R Inverter total active power
        unit_of_measurement: "W"
        slave: 0
        address: 16553
        count: 1
        precision: 0
        scale: 1
        data_type: int16
        device_class: power
        scan_interval: 1

      - name: BackupTotalLoadPower
        unit_of_measurement: "W"
        slave: 0
        address: 16555
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1
      - name: BackupTotalLoadPowerVA
        unit_of_measurement: "VA"
        slave: 0
        address: 16556
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: power
        scan_interval: 1

# Corrected to 16557 according to Home assiastant chat, but seems flaky
#      - name: TotalGridPowerWatt
#        unit_of_measurement: "W"
#        slave: 0
#        address: 16557
#        count: 1
#        precision: 0
#        scale: 1
#        data_type: int16
#        device_class: power
#        scan_interval: 1



      - name: Today_pvenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16575 
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Month_pvenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16577 
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Year_pvenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16579 
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Total_pvenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16581 
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Today_batenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16583
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Month_batenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16585
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Year_batenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16587
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Total_batenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16589
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Today_batdischargeenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16591
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Month_batdischargeenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16593
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Year_batdischargeenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16595
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100
      - name: Total_batdischargeenergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16597
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100

      - name: Today_InvGenEnergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16599
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100
      - name: Month_InvGenEnergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16601
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100
      - name: Year_InvGenEnergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16603
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100
      - name: Total_InvGenEnergy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16605
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100



      - name: Today_pvconsumed_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16639
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Month_pvconsumed_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16641
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Year_pvconsumed_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16643
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Total_pvconsumed_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16645
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Today_gridconsumed_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16647
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Month_gridconsumed_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16649
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Year_gridconsumed_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16651
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Total_gridconsumed_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16653
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100
      - name: Today_gridfeedinfromPV_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16655
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Month_gridfeedinfromPV_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16657
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Year_gridfeedinfromPV_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16659
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Total_gridfeedinfromPV_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16661
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100
      - name: Today_Totalload_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16607
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
        state_class: total_increasing
      - name: Month_Totalload_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16609
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Year_Totalload_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16611
        count: 2
        precision: 2
        scale: 1
        data_type: uint32
        device_class: energy
        scan_interval: 100
      - name: Total_Totalload_energy
        unit_of_measurement: "kWh"
        slave: 0
        address: 16613
        count: 2
        precision: 2
        scale: 1
        data_type: int32
        device_class: energy
        scan_interval: 100

#      - name: realtimedata
#        #unit_of_measurement: "kWh"
#        slave: 0
#        address: 58472
#        #count: 60
#        count: 1
#        precision: 0
#        scale: 1
#        data_type: int16
#        device_class: energy
#        scan_interval: 100
#      - name: realtimedata_end
#        #unit_of_measurement: "kWh"
#        slave: 0
#        address: 58482
##        count: 60
#        count: 1
#        precision: 0
#        scale: 1
#        data_type: int16
#        device_class: energy
#       scan_interval: 100


# 0x3606 = 13830 start of charge/discharge times?
# 366f, 3639, 36,47
# 3a03 = 14851, 3a10 3aa0 32bit
#timing reg 5947 = 23:59 (first byte hour, second byte minutes)
# 23:59 = 1439 minutes = 86340 s (23:59:59 = 86399 s)
# 768 =0x300 = 03:00 =  Firstbyte hour, second byte minutes
# 1595 = 0x63B = 06:59 =
# 32555 = 0x7F2B 0x7F = bitmask for 7 days? 0x2B=43 = 43*100 W? 0x1=Monday, 0x02=Tuesday etc
# 5120 20:00?
# 5947 23:59
# 32517 = 0x7F05 05 = 5*100 = 500W
# 1792 07:00
# 2107 08:59
# 32513 = 0x7F01 01 =1*100 = 100W
# 0
# 571 = 0x23b 02:59
# 32512 = 0W

# C4 03:00-06:59, 4300W allweek
# C3 20:00-23:59 500W all days
# C2 07:00-08:59 100W
# C1 00:00-02:59 0W

# a13851
# D3 14:00-15:59 500W  3584 =0xE00 = 14:00, 3899
# D2 09:00-13:59 0W
# D1 16:00-19:59 1500W
#      - name: CXXunknown0x3600
#        unit_of_measurement: "?"
#        slave: 0
#        address: 13824
#        count: 1
#        precision: 0
#        # convert minutes to hour
#        #scale: 0.016666666
#        scale: 1
#        data_type: uint16
#        device_class: time
#        scan_interval: 100
# I Tidsdelningsläge: Self consumption        
# 13828: 15        
      - name: C7-0enable
        unit_of_measurement: "bits"
        slave: 0
        address: 13828
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D7-0enable
        unit_of_measurement: "bits"
        slave: 0
        address: 13829
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

# 13829: 7
# when 
      - name: C0begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13830
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: C0end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13831
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C0days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13832
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: C1begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13833
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: C1end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13834
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C1days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13835
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: C2begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13836
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C2end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13837
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C2days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13838
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: C3begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13839
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C3end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13840
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C3days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13841
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: C4begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13842
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C4end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13843
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C4days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13844
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: C5begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13845
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C5end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13846
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C5days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13847
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: C6begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13848
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C6end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13849
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: C6days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13850
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: D0begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13851
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D0end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13852
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D0days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13853
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: D1begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13854
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D1end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13855
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D1days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13856
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: D2begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13857
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D2end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13858
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D2days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13859
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: D3begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13860
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D3end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13861
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D3days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13862
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D4begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13863
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D4end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13864
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D4days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13865
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D5begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13866
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D5end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13867
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D5days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13868
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

      - name: D6begin
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13869
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D6end
        unit_of_measurement: "0xHHMM"
        slave: 0
        address: 13870
        count: 1
        precision: 0
        # convert minutes to hour
        #scale: 0.016666666
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100
      - name: D6days_and_power
        unit_of_measurement: "0xDFPC"
        slave: 0
        address: 13871
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: schedule
        scan_interval: 100

# 13872-13883 Smartmeter and battery config

#      - name: a0x3a03_14851
#        #unit_of_measurement: "h.m"
#        slave: 0
#        address: 14851
#        count: 1
#        precision: 0
#        # convert minutes to hour
#        #scale: 0.016666666
#        scale: 1
#        data_type: uint16
#        scan_interval: 100
#      - name: a0x3a03_14851_end
#        #unit_of_measurement: "h.m"
#        slave: 0
#        address: 14860
#        count: 1
#        precision: 0
#        # convert minutes to hour
#        #scale: 0.016666666
#        scale: 1
#        data_type: uint16
#        scan_interval: 100


#Unknown
# 80, 50 6000, 1800, 6000, 1800, 300, 300, 50, 0, 0
#      - name: a0x3651_13905
#        #unit_of_measurement: "h.m"
#        slave: 0
#        address: 13905
#        count: 1
#        precision: 0
#        # convert minutes to hour
#        #scale: 0.016666666
#        scale: 1
#        data_type: uint16
#        scan_interval: 100
#      - name: a0x3651_13905_end
#        #unit_of_measurement: "h.m"
#        slave: 0
#        address: 13915
#        count: 1
#        precision: 0
#        # convert minutes to hour
#        #scale: 0.016666666
#        scale: 1
#        data_type: uint16
#        scan_interval: 100

# 0xA00C 40972 BAT1SOC
#A00CH 1 Bat1SOC Uint16 -2 % R Bat1SOC
#A00DH 1 Bat1SOH Uint16 -2 % R Bat1SOH
#A00EH 1 Bat1Voltage Uint16 -1 V R Bat1Voltage
#A00FH 1 Bat1Current int16 -2 A R Bat1Current
#A010H 1 Bat1Temperature int16 -1 ℃ R Bat1Temperature
#A011H 1 Bat1CycleNum Uint16 0 R Bat1CycleNum

#A012H 1 Bat2SOC Uint16 -2 % R Bat2SOC
#A013H 1 Bat2SOH Uint16 -2 % R Bat2SOH
#A014H 1 Bat2Voltage Uint16 -1 V R Bat2Voltage
#A015H 1 Bat2Current int16 -2 A R Bat2Current
#A016H 1 Bat2Temperature int16 -1 ℃ R Bat2Temperature
#A017H 1 Bat2CycleNum Uint16 0 R Bat2CycleNum

#A018H 1 Bat3SOC Uint16 -2 % R Bat3SOC
#A019H 1 Bat3SOH Uint16 -2 % R Bat3SOH
#A01AH 1 Bat3Voltage Uint16 -1 V R Bat3Voltage
#A01BH 1 Bat3Current int16 -2 A R Bat3Current
#A01CH 1 Bat3Temperature int16 -1 ℃ R Bat3Temperature
#A01DH 1 Bat3CycleNum Uint16 0 R Bat3CycleNum

#A01EH 1 Bat4SOC Uint16 -2 % R Bat4SOC
#A01FH 1 Bat4SOH Uint16 -2 % R Bat4SOH
#A020H 1 Bat4Voltage Uint16 -1 V R Bat4Voltage
#A021H 1 Bat4Current int16 -2 A R Bat4Current
#A022H 1 Bat4Temperature int16 -1 ℃ R Bat4Temperature
#A023H 1 Bat4CycleNum Uint16 0 R Bat4CycleNum

#A024H 20 Reserve Uint16 0 R Reserv Bat5?
      - name: Bat1SOC
        unit_of_measurement: "%"
        slave: 0
        address: 40972
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: percentage
        scan_interval: 1
      - name: Bat1SOH
        unit_of_measurement: "%"
        slave: 0
        address: 40973
        count: 1
        precision: 2
        scale: 1
        data_type: uint16
        device_class: percentage
        scan_interval: 1
      - name: Bat1Voltage
        unit_of_measurement: "V"
        slave: 0
        address: 40974
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: Bat1Current
        unit_of_measurement: "A"
        slave: 0
        address: 40975
        count: 1
        precision: 2
        scale: 1
        data_type: int16
        device_class: current
        scan_interval: 1
      - name: Bat1Temp
        unit_of_measurement: "C"
        slave: 0
        address: 40976
        count: 1
        precision: 1
        scale: 1
        data_type: int16
        device_class: temperature
        scan_interval: 1
      - name: Bat1CycleNum
        slave: 0
        address: 40977
        count: 1
        precision: 0
        scale: 1
        data_type: uint16
        device_class: cycles
        scan_interval: 1

#      - name: Bat2SOC
#        unit_of_measurement: "%"
#        slave: 0
#        address: 40978
#        count: 1
#        precision: 2
#        scale: 1
#        data_type: uint16
#        device_class: percentage
#        scan_interval: 1
#      - name: Bat2SOH
#        unit_of_measurement: "%"
#        slave: 0
#        address: 40979
#        count: 1
#        precision: 2
#        scale: 1
#        data_type: uint16
#        device_class: percentage
#        scan_interval: 1
#      - name: Bat2Voltage
#        unit_of_measurement: "V"
#        slave: 0
#        address: 40980
#        count: 1
#        precision: 1
#        scale: 1
#        data_type: uint16
#        device_class: voltage
#        scan_interval: 1
#      - name: Bat2Current
#        unit_of_measurement: "A"
#        slave: 0
#        address: 40981
#        count: 1
#        precision: 2
#        scale: 1
#        data_type: int16
#        device_class: current
#        scan_interval: 1
#      - name: Bat2Temp
#        unit_of_measurement: "C"
#        slave: 0
#        address: 40982
#        count: 1
#        precision: 1
#        scale: 1
#        data_type: int16
#        device_class: temperature
#        scan_interval: 1
#      - name: Bat2CycleNum
#        slave: 0
#        address: 40983
#        count: 1
#        precision: 1
#        scale: 1
#        data_type: uint16
#        device_class: cycles
#        scan_interval: 1


# 0xa03D 41021 Meter_A_Volt
      - name: SM1_Status
        slave: 0
        address: 41020
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        scan_interval: 1

      - name: SM1_V1
        unit_of_measurement: "V"
        slave: 0
        address: 41021
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: SM1_I1
        unit_of_measurement: "A"
        slave: 0
        address: 41022 
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: current
        scan_interval: 1
      - name: SM1_P1
        unit_of_measurement: "W"
        slave: 0
        address: 41023
        count: 1
        precision: 0
        scale: 0
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: SM1_P1VA
        unit_of_measurement: "VA"
        slave: 0
        address: 41024
        count: 1
        precision: 0
        scale: 0
        data_type: uint16
        device_class: power
        scan_interval: 1
      - name: SM1_PowerFactor1
        slave: 0
        address: 41025
        count: 1
        precision: 3
        scale: 0
        data_type: int16
        scan_interval: 1
      - name: SM1_F1
        unit_of_measurement: "Hz"
        slave: 0
        address: 41026
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: frequency
        scan_interval: 1


      - name: SM1_V2
        unit_of_measurement: "V"
        slave: 0
        address: 41027
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: SM1_I2
        unit_of_measurement: "A"
        slave: 0
        address: 41028
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: current
        scan_interval: 1
      - name: SM1_P2
        unit_of_measurement: "W"
        slave: 0
        address: 41029
        count: 1
        precision: 0
        scale: 0
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: SM1_P2VA
        unit_of_measurement: "VA"
        slave: 0
        address: 41030
        count: 1
        precision: 0
        scale: 0
        data_type: uint16
        device_class: power
        scan_interval: 1
      - name: SM1_PowerFactor2
        slave: 0
        address: 41031
        count: 1
        precision: 3
        scale: 0
        data_type: int16
        scan_interval: 1
      - name: SM1_F2
        unit_of_measurement: "Hz"
        slave: 0
        address: 41032
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: frequency
        scan_interval: 1

      - name: SM1_V3
        unit_of_measurement: "V"
        slave: 0
        address: 41033
        count: 1
        precision: 1
        scale: 1
        data_type: uint16
        device_class: voltage
        scan_interval: 1
      - name: SM1_I3
        unit_of_measurement: "A"
        slave: 0
        address: 41034 
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: current
        scan_interval: 1
      - name: SM1_P3
        unit_of_measurement: "W"
        slave: 0
        address: 41035
        count: 1
        precision: 0
        scale: 0
        data_type: int16
        device_class: power
        scan_interval: 1
      - name: SM1_P3VA
        unit_of_measurement: "VA"
        slave: 0
        address: 41036
        count: 1
        precision: 0
        scale: 0
        data_type: uint16
        device_class: power
        scan_interval: 1
      - name: SM1_PowerFactor3
        slave: 0
        address: 41037
        count: 1
        precision: 3
        scale: 0
        data_type: int16
        scan_interval: 1
      - name: SM1_F3
        unit_of_measurement: "Hz"
        slave: 0
        address: 41038
        count: 1
        precision: 2
        scale: 0
        data_type: int16
        device_class: frequency
        scan_interval: 1

# https://community.home-assistant.io/t/saj-solar-inverter/111932/223?page=10
# Does not work on H2
# 0x3354=13140 control battery charging?
#      - name: BatChargeControl
#        unit_of_measurement: "W"
#        slave: 0
#        address: 13140
#        count: 1
#        precision: 0
#        scale: 1
#        data_type: uint16
#        device_class: battery
#        scan_interval: 1


# From 2020 protocol document, does not work for my SAJ H2
# 0x3271=12913
#      - name: BatSetSOCRetain
#        unit_of_measurement: "%"
#        slave: 0
#        address: 12913
#        count: 1
#        precision: 0
#        scale: 1
#        data_type: uint16
#        device_class: battery
#        scan_interval: 1
# 0x3273=12915
#      - name: BatSetSOCHigh
#        unit_of_measurement: "%"
#        slave: 0
#        address: 12915
#        count: 1
#        precision: 0
#        scale: 1
#        data_type: uint16
#        device_class: battery
#        scan_interval: 1
#      - name: BatSetSOCLow
#        unit_of_measurement: "%"
#        slave: 0
#        address: 12916
#        count: 1
#        precision: 0
#        scale: 1
#        data_type: uint16
#        device_class: battery
#        scan_interval: 1
